---
import { getIconBySlug } from "../lib/simpleIcons";

const experiences = [
	{
		title: "Concepteur - développeur d’applications web",
		company: "Réseau Canopé - Poitiers",
		period: "Décembre 2018 - Novembre 2024",
		description: [
			"Développement de la plateforme nationale Cpro Éducation.",
			"Mise en place du workflow Git & CI/CD avec GitLab.",
			"Développement d’APIs (Node.js, Express).",
			"Interfaces Bootstrap (v5) selon Material Design.",
			"Maintenance, rédaction de doc, méthode agile avec Jira.",
		],
		techs: [
			{ name: "Javascript", slug: "javascript" },
			{ name: "Bootstrap", slug: "bootstrap" },
			{ name: "Node.js", slug: "nodedotjs" },
			{ name: "PHP", slug: "php" },
			{ name: "MySQL", slug: "mysql" },
			{ name: "Git", slug: "git" },
		],
	},
	{
		title: "Alternant - Développeur web / Intégrateur web",
		company: "Réseau Canopé - Chasseneuil-du-Poitou",
		period: "Octobre 2017 - Septembre 2018",
		description: [
			"Refonte graphique d'une application catalogue.",
			"Maintenance, intégration continue (Git/Bamboo).",
			"Documentation technique.",
		],
		techs: [
			{ name: "Javascript", slug: "javascript" },
			{ name: "Bootstrap", slug: "bootstrap" },
			{ name: "Git", slug: "git" },
		],
	},
];
---

<section
	id="career"
	class="min-h-screen px-6 py-24 flex flex-col items-center gap-10 reveal opacity-0 translate-y-4 transition-all duration-700"
>
	<h2 class="text-3xl md:text-4xl font-bold mb-8 text-center">Mon parcours professionnel</h2>

	<ul class="timeline timeline-snap-icon max-md:timeline-compact timeline-vertical">
		{
			experiences.map((exp) => (
				<li>
					<div class="timeline-middle">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-5 w-5">
							<path
								fill-rule="evenodd"
								d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z"
								clip-rule="evenodd"
							/>
						</svg>
					</div>
					<div class="timeline-start mb-10 md:text-end opacity-70">{exp.period}</div>
					<div class="timeline-end">
						<div class="timeline-box p-6 space-y-4">
							<h3 class="font-semibold text-lg">{exp.title}</h3>
							<p class="text-sm italic text-base-content/70">{exp.company}</p>
							<ul class="list-disc list-inside text-sm leading-relaxed space-y-1 mt-2">
								{exp.description.map((item) => (
									<li>{item}</li>
								))}
							</ul>
							<div class="flex flex-wrap gap-4 pt-4 border-t border-base-300">
								{exp.techs.map((tech) => {
									const icon = getIconBySlug(tech.slug);
									return icon ? (
										<span class="tooltip" data-tip={tech.name}>
											<svg
												role="img"
												viewBox="0 0 24 24"
												fill={`#${icon.hex}`}
												class="w-8 h-8"
												aria-label={tech.name}
												xmlns="http://www.w3.org/2000/svg"
											>
												<path d={icon.path} />
											</svg>
										</span>
									) : (
										<span class="badge badge-outline">{tech.name}</span>
									);
								})}
							</div>
						</div>
					</div>
					<hr />
				</li>
			))
		}
	</ul>
</section>
